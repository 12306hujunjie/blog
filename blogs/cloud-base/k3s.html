<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-rc.19">
    <script>
      (function() {
        const userMode = localStorage.getItem('vuepress-reco-color-scheme') || 'auto';
        const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;

        if (userMode === 'dark' || (userMode === 'auto' && systemDarkMode)) {
          document.documentElement.classList.toggle('dark', true);
        }
      })();
    </script>
    <title>k3s(è½»é‡çº§k8s)éƒ¨ç½² | database of memory</title><meta name="description" content="study anything and life record">
    <link rel="preload" href="/blog/assets/style-QHAkAqGr.css" as="style"><link rel="stylesheet" href="/blog/assets/style-QHAkAqGr.css">
    <link rel="modulepreload" href="/blog/assets/app-Cb7V6dmb.js"><link rel="modulepreload" href="/blog/assets/k3s.html-MxS7tdLj.js">
    <link rel="prefetch" href="/blog/assets/timeline.html-BSQy5Juo.js" as="script"><link rel="prefetch" href="/blog/assets/posts.html-Dh3JV3UO.js" as="script"><link rel="prefetch" href="/blog/assets/friendship-link.html-lzSx1I8M.js" as="script"><link rel="prefetch" href="/blog/assets/1.html-DAR4VVmc.js" as="script"><link rel="prefetch" href="/blog/assets/2.html-BgSc9TXg.js" as="script"><link rel="prefetch" href="/blog/assets/1.html-Cxzs-nWz.js" as="script"><link rel="prefetch" href="/blog/assets/1.html-DO3ge8ec.js" as="script"><link rel="prefetch" href="/blog/assets/1.html-CDUEKebI.js" as="script"><link rel="prefetch" href="/blog/assets/1.html-DEG3M3Cc.js" as="script"><link rel="prefetch" href="/blog/assets/1.html-BlN4eJkI.js" as="script"><link rel="prefetch" href="/blog/assets/1.html-Xkg3XwTb.js" as="script"><link rel="prefetch" href="/blog/assets/1.html-B3PI_8R1.js" as="script"><link rel="prefetch" href="/blog/assets/1.html-2TYzhalI.js" as="script"><link rel="prefetch" href="/blog/assets/1.html-BfPU8K1G.js" as="script"><link rel="prefetch" href="/blog/assets/1.html-BVBffMoA.js" as="script"><link rel="prefetch" href="/blog/assets/1.html-CrKVzAG3.js" as="script"><link rel="prefetch" href="/blog/assets/1.html-CyyqimpS.js" as="script"><link rel="prefetch" href="/blog/assets/1.html-B17OH8Ht.js" as="script"><link rel="prefetch" href="/blog/assets/1.html-B42slYiH.js" as="script"><link rel="prefetch" href="/blog/assets/1.html-C6z_Ozs2.js" as="script"><link rel="prefetch" href="/blog/assets/1.html-CU8Q1cB9.js" as="script"><link rel="prefetch" href="/blog/assets/1.html-DkCjnOn5.js" as="script"><link rel="prefetch" href="/blog/assets/1.html-DXMOc3fO.js" as="script"><link rel="prefetch" href="/blog/assets/1.html-iVD4OcxE.js" as="script"><link rel="prefetch" href="/blog/assets/1.html-CGOY9s2v.js" as="script"><link rel="prefetch" href="/blog/assets/1.html-CV62kO-P.js" as="script"><link rel="prefetch" href="/blog/assets/1.html-BHoHZnzs.js" as="script"><link rel="prefetch" href="/blog/assets/1.html-BjIkOcX8.js" as="script"><link rel="prefetch" href="/blog/assets/1.html-Cg_Oup1c.js" as="script"><link rel="prefetch" href="/blog/assets/1.html-CI9g-gkj.js" as="script"><link rel="prefetch" href="/blog/assets/1.html-BQkH_O-5.js" as="script"><link rel="prefetch" href="/blog/assets/1.html-BkhWa_l4.js" as="script"><link rel="prefetch" href="/blog/assets/1.html-CNJ2BBRs.js" as="script"><link rel="prefetch" href="/blog/assets/1.html-DElsd3Fr.js" as="script"><link rel="prefetch" href="/blog/assets/1.html-BjbgUVvx.js" as="script"><link rel="prefetch" href="/blog/assets/1.html-B2DiLD7z.js" as="script"><link rel="prefetch" href="/blog/assets/1.html-CL6UAERu.js" as="script"><link rel="prefetch" href="/blog/assets/1.html-C3pxyyct.js" as="script"><link rel="prefetch" href="/blog/assets/1.html-BNkUv2E5.js" as="script"><link rel="prefetch" href="/blog/assets/1.html-DaRpAZik.js" as="script"><link rel="prefetch" href="/blog/assets/1.html-sdxU_u3n.js" as="script"><link rel="prefetch" href="/blog/assets/1.html-DPQxfRs0.js" as="script"><link rel="prefetch" href="/blog/assets/1.html-DPnV1OZh.js" as="script"><link rel="prefetch" href="/blog/assets/1.html-D9Zmd07b.js" as="script"><link rel="prefetch" href="/blog/assets/1.html-BqPVbCmy.js" as="script"><link rel="prefetch" href="/blog/assets/1.html-CoFiZnl-.js" as="script"><link rel="prefetch" href="/blog/assets/1.html-CyFbFfAH.js" as="script"><link rel="prefetch" href="/blog/assets/1.html-f3ALgdrW.js" as="script"><link rel="prefetch" href="/blog/assets/1.html-Bdw4vCA7.js" as="script"><link rel="prefetch" href="/blog/assets/1.html-CKSGaJvS.js" as="script"><link rel="prefetch" href="/blog/assets/1.html-oY8TiYE-.js" as="script"><link rel="prefetch" href="/blog/assets/1.html-t2qbqHCk.js" as="script"><link rel="prefetch" href="/blog/assets/1.html-IQFVgehX.js" as="script"><link rel="prefetch" href="/blog/assets/1.html-DdqsI-W8.js" as="script"><link rel="prefetch" href="/blog/assets/1.html-DwN9sqJf.js" as="script"><link rel="prefetch" href="/blog/assets/1.html-CHzr1o13.js" as="script"><link rel="prefetch" href="/blog/assets/1.html-DDwYFF0a.js" as="script"><link rel="prefetch" href="/blog/assets/1.html-BifgRfd-.js" as="script"><link rel="prefetch" href="/blog/assets/1.html-BTvPGf11.js" as="script"><link rel="prefetch" href="/blog/assets/1.html-BIzl2rPD.js" as="script"><link rel="prefetch" href="/blog/assets/1.html-CGhl_Xcc.js" as="script"><link rel="prefetch" href="/blog/assets/1.html-DqHt3Lct.js" as="script"><link rel="prefetch" href="/blog/assets/1.html-ASyHwDvB.js" as="script"><link rel="prefetch" href="/blog/assets/1.html-B4gpHIMp.js" as="script"><link rel="prefetch" href="/blog/assets/1.html-U3V9E9z8.js" as="script"><link rel="prefetch" href="/blog/assets/1.html-gVUlVtww.js" as="script"><link rel="prefetch" href="/blog/assets/1.html-DKSbjtmn.js" as="script"><link rel="prefetch" href="/blog/assets/2.html-B-km-OoV.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-Bk54dpeq.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-CL8zCKTX.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-HbaOAaAp.js" as="script"><link rel="prefetch" href="/blog/assets/bitwise_operation.html-DaeBtjrT.js" as="script"><link rel="prefetch" href="/blog/assets/learning_algorithm.html-B7WUip7p.js" as="script"><link rel="prefetch" href="/blog/assets/cache_pattern.html-CtL_DzMO.js" as="script"><link rel="prefetch" href="/blog/assets/docker_tech.html-DKskbqnA.js" as="script"><link rel="prefetch" href="/blog/assets/k3s_k8s_ingress.html-Dg09qJUg.js" as="script"><link rel="prefetch" href="/blog/assets/oci-01-intro-guide.html-QKjUUyQY.js" as="script"><link rel="prefetch" href="/blog/assets/oci-02-runtime-spec.html-WXonQlEX.js" as="script"><link rel="prefetch" href="/blog/assets/oci-03-image-spec.html-18D5hEtq.js" as="script"><link rel="prefetch" href="/blog/assets/oci-04-distribution-spec.html-qo6dcSUc.js" as="script"><link rel="prefetch" href="/blog/assets/oci-05-security-guide.html-aNGw0Jn1.js" as="script"><link rel="prefetch" href="/blog/assets/oci-06-monitoring-guide.html-JEvw-YC2.js" as="script"><link rel="prefetch" href="/blog/assets/oci-07-production-guide.html-BsvrQqWU.js" as="script"><link rel="prefetch" href="/blog/assets/oci-series-index.html-BSCyZZmm.js" as="script"><link rel="prefetch" href="/blog/assets/linux_namespace.html-Barexrun.js" as="script"><link rel="prefetch" href="/blog/assets/python_checklist.html-CvyUWLM5.js" as="script"><link rel="prefetch" href="/blog/assets/python_env_manage.html-C859GpsM.js" as="script"><link rel="prefetch" href="/blog/assets/gevent.html-heCYHkQm.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-BmWMzpLP.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-Cqyefqaf.js" as="script"><link rel="prefetch" href="/blog/assets/sort_1.html-D3iEzQKw.js" as="script"><link rel="prefetch" href="/blog/assets/abstract_factory.html-BCrRSBH7.js" as="script"><link rel="prefetch" href="/blog/assets/factory_method.html-qnCJvIch.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-D8tfWPtz.js" as="script"><link rel="prefetch" href="/blog/assets/adapter.html-VAf1A1uA.js" as="script"><link rel="prefetch" href="/blog/assets/404.html-ChjO0zNi.js" as="script"><link rel="prefetch" href="/blog/assets/Valine.min-_LyT3bfY.js" as="script"><link rel="prefetch" href="/blog/assets/giscus-aTimukGI-DWEKOTfS.js" as="script"><link rel="prefetch" href="/blog/assets/KnowledgeMap-BifwzNie.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container series--no show-catalog"><header class="navbar-container not-open"><div class="navbar-inner"><div class="site-brand nav-item"><img class="logo" src="/blog/logo.png" alt="database of memory"><a href="/blog/" class="site-name can-hide">database of memory</a></div><div class="nav-item navbar-links-wrapper" style=""><div><form class="search-box" role="search"><input type="search" autocomplete="off" spellcheck="false" value><!----></form></div><nav class="navbar-links"><!--[--><div class="navbar-links__item"><div class="dropdown-link"><button class="dropdown-link__title" type="button" aria-label="Categories"><span class="xicon-container left title"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->Categories<!--]--></span></span><span class="arrow down"></span></button><button class="dropdown-link--mobile__title" type="button" aria-label="Categories"><span class="title"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->Categories<!--]--></span></span></span><span class="right arrow"></span></button><ul style="display:none;" class="dropdown-link__container"><!--[--><li class="dropdown-link__item"><a href="/blog/categories/cloud-base/1.html" class="link" aria-label="cloud-base"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->cloud-base<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/blog/categories/algorithm/1.html" class="link" aria-label="algorithm"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->algorithm<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/blog/categories/cache/1.html" class="link" aria-label="cache"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->cache<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/blog/categories/linux/1.html" class="link" aria-label="linux"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->linux<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/blog/categories/algorithm/array/1.html" class="link" aria-label="algorithm/array"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->algorithm/array<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/blog/categories/python-web/1.html" class="link" aria-label="python-web"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->python-web<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/blog/categories/python/1.html" class="link" aria-label="python"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->python<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-links__item"><div class="dropdown-link"><button class="dropdown-link__title" type="button" aria-label="Tags"><span class="xicon-container left title"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->Tags<!--]--></span></span><span class="arrow down"></span></button><button class="dropdown-link--mobile__title" type="button" aria-label="Tags"><span class="title"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->Tags<!--]--></span></span></span><span class="right arrow"></span></button><ul style="display:none;" class="dropdown-link__container"><!--[--><li class="dropdown-link__item"><a href="/blog/tags/docker/1.html" class="link" aria-label="docker"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->docker<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/blog/tags/rongqijishu/1.html" class="link" aria-label="å®¹å™¨æŠ€æœ¯"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->å®¹å™¨æŠ€æœ¯<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/blog/tags/yunyuansheng/1.html" class="link" aria-label="äº‘åŸç”Ÿ"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->äº‘åŸç”Ÿ<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/blog/tags/xunihua/1.html" class="link" aria-label="è™šæ‹ŸåŒ–"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->è™šæ‹ŸåŒ–<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/blog/tags/yunwei/1.html" class="link" aria-label="è¿ç»´"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->è¿ç»´<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/blog/tags/rumenji/1.html" class="link" aria-label="å…¥é—¨çº§"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->å…¥é—¨çº§<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/blog/tags/gongjushiyong/1.html" class="link" aria-label="å·¥å…·ä½¿ç”¨"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->å·¥å…·ä½¿ç”¨<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/blog/tags/suanfa/1.html" class="link" aria-label="ç®—æ³•"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->ç®—æ³•<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/blog/tags/weiyunsuan/1.html" class="link" aria-label="ä½è¿ç®—"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->ä½è¿ç®—<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/blog/tags/leetcode/1.html" class="link" aria-label="leetcode"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->leetcode<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/blog/tags/python/1.html" class="link" aria-label="python"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->python<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/blog/tags/golang/1.html" class="link" aria-label="golang"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->golang<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/blog/tags/zhongji/1.html" class="link" aria-label="ä¸­çº§"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->ä¸­çº§<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/blog/tags/mianshizhunbei/1.html" class="link" aria-label="é¢è¯•å‡†å¤‡"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->é¢è¯•å‡†å¤‡<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/blog/tags/shuxuejiqiao/1.html" class="link" aria-label="æ•°å­¦æŠ€å·§"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->æ•°å­¦æŠ€å·§<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/blog/tags/xuexibiji/1.html" class="link" aria-label="å­¦ä¹ ç¬”è®°"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->å­¦ä¹ ç¬”è®°<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/blog/tags/gerenganwu/1.html" class="link" aria-label="ä¸ªäººæ„Ÿæ‚Ÿ"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->ä¸ªäººæ„Ÿæ‚Ÿ<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/blog/tags/xuexifangfa/1.html" class="link" aria-label="å­¦ä¹ æ–¹æ³•"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->å­¦ä¹ æ–¹æ³•<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/blog/tags/huancunsheji/1.html" class="link" aria-label="ç¼“å­˜è®¾è®¡"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->ç¼“å­˜è®¾è®¡<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/blog/tags/xitongsheji/1.html" class="link" aria-label="ç³»ç»Ÿè®¾è®¡"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->ç³»ç»Ÿè®¾è®¡<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/blog/tags/redis/1.html" class="link" aria-label="redis"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->redis<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/blog/tags/shejimoshi/1.html" class="link" aria-label="è®¾è®¡æ¨¡å¼"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->è®¾è®¡æ¨¡å¼<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/blog/tags/fenbushixitong/1.html" class="link" aria-label="åˆ†å¸ƒå¼ç³»ç»Ÿ"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->åˆ†å¸ƒå¼ç³»ç»Ÿ<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/blog/tags/shengchanhuanjing/1.html" class="link" aria-label="ç”Ÿäº§ç¯å¢ƒ"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->ç”Ÿäº§ç¯å¢ƒ<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/blog/tags/kubernetes/1.html" class="link" aria-label="kubernetes"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->kubernetes<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/blog/tags/k3s/1.html" class="link" aria-label="k3s"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->k3s<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/blog/tags/rongqibianpai/1.html" class="link" aria-label="å®¹å™¨ç¼–æ’"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->å®¹å™¨ç¼–æ’<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/blog/tags/bushu/1.html" class="link" aria-label="éƒ¨ç½²"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->éƒ¨ç½²<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/blog/tags/k8s/1.html" class="link" aria-label="k8s"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->k8s<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/blog/tags/ingress/1.html" class="link" aria-label="ingress"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->ingress<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/blog/tags/yunweijiqiao/1.html" class="link" aria-label="è¿ç»´æŠ€å·§"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->è¿ç»´æŠ€å·§<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/blog/tags/wentijiejue/1.html" class="link" aria-label="é—®é¢˜è§£å†³"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->é—®é¢˜è§£å†³<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/blog/tags/linux/1.html" class="link" aria-label="linux"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->linux<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/blog/tags/namespace/1.html" class="link" aria-label="namespace"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->namespace<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/blog/tags/xitongyuanli/1.html" class="link" aria-label="ç³»ç»ŸåŸç†"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->ç³»ç»ŸåŸç†<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/blog/tags/dicengjishu/1.html" class="link" aria-label="åº•å±‚æŠ€æœ¯"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->åº•å±‚æŠ€æœ¯<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/blog/tags/shujujiegou/1.html" class="link" aria-label="æ•°æ®ç»“æ„"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->æ•°æ®ç»“æ„<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/blog/tags/paixusuanfa/1.html" class="link" aria-label="æ’åºç®—æ³•"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->æ’åºç®—æ³•<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/blog/tags/typescript/1.html" class="link" aria-label="typescript"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->typescript<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/blog/tags/yibubiancheng/1.html" class="link" aria-label="å¼‚æ­¥ç¼–ç¨‹"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->å¼‚æ­¥ç¼–ç¨‹<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/blog/tags/gevent/1.html" class="link" aria-label="gevent"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->gevent<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/blog/tags/xiecheng/1.html" class="link" aria-label="åç¨‹"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->åç¨‹<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/blog/tags/yuanmajiexi/1.html" class="link" aria-label="æºç è§£æ"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->æºç è§£æ<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/blog/tags/xingnenyouhua/1.html" class="link" aria-label="æ€§èƒ½ä¼˜åŒ–"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->æ€§èƒ½ä¼˜åŒ–<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/blog/tags/gaoji/1.html" class="link" aria-label="é«˜çº§"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->é«˜çº§<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/blog/tags/webkaifa/1.html" class="link" aria-label="webå¼€å‘"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->webå¼€å‘<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/blog/tags/huanjingguanli/1.html" class="link" aria-label="ç¯å¢ƒç®¡ç†"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->ç¯å¢ƒç®¡ç†<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/blog/tags/pyenv/1.html" class="link" aria-label="pyenv"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->pyenv<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/blog/tags/poetry/1.html" class="link" aria-label="poetry"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->poetry<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/blog/tags/baoguanli/1.html" class="link" aria-label="åŒ…ç®¡ç†"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->åŒ…ç®¡ç†<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/blog/tags/gongchengshijian/1.html" class="link" aria-label="å·¥ç¨‹å®è·µ"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->å·¥ç¨‹å®è·µ<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/blog/tags/daimaguifan/1.html" class="link" aria-label="ä»£ç è§„èŒƒ"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->ä»£ç è§„èŒƒ<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/blog/tags/kaifaguifan/1.html" class="link" aria-label="å¼€å‘è§„èŒƒ"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->å¼€å‘è§„èŒƒ<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/blog/tags/pep8/1.html" class="link" aria-label="pep8"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->pep8<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/blog/tags/kaifagongju/1.html" class="link" aria-label="å¼€å‘å·¥å…·"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->å¼€å‘å·¥å…·<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-links__item"><a href="/blog/knowledge-map/" class="link" aria-label="çŸ¥è¯†åœ°å›¾"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->çŸ¥è¯†åœ°å›¾<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><div class="dropdown-link"><button class="dropdown-link__title" type="button" aria-label="Docs"><span class="xicon-container left title"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->Docs<!--]--></span></span><span class="arrow down"></span></button><button class="dropdown-link--mobile__title" type="button" aria-label="Docs"><span class="title"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->Docs<!--]--></span></span></span><span class="right arrow"></span></button><ul style="display:none;" class="dropdown-link__container"><!--[--><li class="dropdown-link__item"><a href="/blog/docs/leetcode/" class="link" aria-label="leetcode from scratch"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->leetcode from scratch<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/blog/blogs/other/guide" class="link" aria-label="vuepress-theme-reco"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->vuepress-theme-reco<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><!--]--><!----><span class="xicon-container btn-toggle-dark-mode btn--dark-mode navbar-links__item"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" style="width:20px;height:20px;font-size:20px;color:;"><path d="M15 2h2v3h-2z" fill="currentColor"></path><path d="M27 15h3v2h-3z" fill="currentColor"></path><path d="M15 27h2v3h-2z" fill="currentColor"></path><path d="M2 15h3v2H2z" fill="currentColor"></path><path d="M5.45 6.884l1.414-1.415l2.121 2.122l-1.414 1.414z" fill="currentColor"></path><path d="M23 7.58l2.121-2.12l1.414 1.414l-2.121 2.121z" fill="currentColor"></path><path d="M23.002 24.416l1.415-1.414l2.12 2.122l-1.413 1.414z" fill="currentColor"></path><path d="M5.47 25.13L7.59 23L9 24.42l-2.12 2.12l-1.41-1.41z" fill="currentColor"></path><path d="M16 8a8 8 0 1 0 8 8a8 8 0 0 0-8-8zm0 14a6 6 0 0 1 0-12z" fill="currentColor"></path></svg></span><ul class="social-links navbar-links__item"><!--[--><li class="social-item"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" style="width:25px;height:25px;"><path d="M16 2a14 14 0 0 0-4.43 27.28c.7.13 1-.3 1-.67v-2.38c-3.89.84-4.71-1.88-4.71-1.88a3.71 3.71 0 0 0-1.62-2.05c-1.27-.86.1-.85.1-.85a2.94 2.94 0 0 1 2.14 1.45a3 3 0 0 0 4.08 1.16a2.93 2.93 0 0 1 .88-1.87c-3.1-.36-6.37-1.56-6.37-6.92a5.4 5.4 0 0 1 1.44-3.76a5 5 0 0 1 .14-3.7s1.17-.38 3.85 1.43a13.3 13.3 0 0 1 7 0c2.67-1.81 3.84-1.43 3.84-1.43a5 5 0 0 1 .14 3.7a5.4 5.4 0 0 1 1.44 3.76c0 5.38-3.27 6.56-6.39 6.91a3.33 3.33 0 0 1 .95 2.59v3.84c0 .46.25.81 1 .67A14 14 0 0 0 16 2z" fill-rule="evenodd" fill="currentColor"></path></svg></li><!--]--></ul></nav><span class="xicon-container btn-toggle-menus"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" style="width:20px;height:20px;font-size:20px;color:;"><circle cx="16" cy="8" r="2" fill="currentColor"></circle><circle cx="16" cy="16" r="2" fill="currentColor"></circle><circle cx="16" cy="24" r="2" fill="currentColor"></circle></svg></span></div></div></header><!----><!----><!----><div class="theme-main" style=""><!----><!--[--><main class="page-container"><div class="page-content"><h1 class="page-title">k3s(è½»é‡çº§k8s)éƒ¨ç½²</h1><div class="page-info"><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:;"><path d="M16 4a5 5 0 1 1-5 5a5 5 0 0 1 5-5m0-2a7 7 0 1 0 7 7a7 7 0 0 0-7-7z" fill="currentColor"></path><path d="M26 30h-2v-5a5 5 0 0 0-5-5h-6a5 5 0 0 0-5 5v5H6v-5a7 7 0 0 1 7-7h6a7 7 0 0 1 7 7z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->hujunjie<!--]--></span></span><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:;"><path d="M26 4h-4V2h-2v2h-8V2h-2v2H6c-1.1 0-2 .9-2 2v20c0 1.1.9 2 2 2h20c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 22H6V12h20v14zm0-16H6V6h4v2h2V6h8v2h2V6h4v4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->2022-01-03<!--]--></span></span><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:;"><path d="M11.17 6l3.42 3.41l.58.59H28v16H4V6h7.17m0-2H4a2 2 0 0 0-2 2v20a2 2 0 0 0 2 2h24a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2H16l-3.41-3.41A2 2 0 0 0 11.17 4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[--><!--[--><a href="/blog/categories/cloud-base/1.html" class="">cloud-base</a><!--]--><!--]--></span></span><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:;"><path d="M10 14a4 4 0 1 1 4-4a4.005 4.005 0 0 1-4 4zm0-6a2 2 0 1 0 1.998 2.004A2.002 2.002 0 0 0 10 8z" fill="currentColor"></path><path d="M16.644 29.415L2.586 15.354A2 2 0 0 1 2 13.941V4a2 2 0 0 1 2-2h9.941a2 2 0 0 1 1.414.586l14.06 14.058a2 2 0 0 1 0 2.828l-9.943 9.943a2 2 0 0 1-2.829 0zM4 4v9.942L18.058 28L28 18.058L13.942 4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[--><!--[--><a href="/blog/tags/kubernetes/1.html" class="">kubernetes</a><a href="/blog/tags/k3s/1.html" class="">k3s</a><a href="/blog/tags/yunyuansheng/1.html" class="">äº‘åŸç”Ÿ</a><a href="/blog/tags/rongqibianpai/1.html" class="">å®¹å™¨ç¼–æ’</a><a href="/blog/tags/yunwei/1.html" class="">è¿ç»´</a><a href="/blog/tags/bushu/1.html" class="">éƒ¨ç½²</a><a href="/blog/tags/zhongji/1.html" class="">ä¸­çº§</a><a href="/blog/tags/shengchanhuanjing/1.html" class="">ç”Ÿäº§ç¯å¢ƒ</a><!--]--><!--]--></span></span><!----></div><div class="theme-reco-md-content"><div><h2 id="ä¸€ã€å‡†å¤‡å·¥ä½œ" tabindex="-1"><a class="header-anchor" href="#ä¸€ã€å‡†å¤‡å·¥ä½œ"><span>ä¸€ã€å‡†å¤‡å·¥ä½œ</span></a></h2><h3 id="_1-å…ˆå†³æ¡ä»¶" tabindex="-1"><a class="header-anchor" href="#_1-å…ˆå†³æ¡ä»¶"><span>1. å…ˆå†³æ¡ä»¶</span></a></h3><p>ä¸¤ä¸ªèŠ‚ç‚¹ä¸èƒ½æœ‰ç›¸åŒçš„ä¸»æœºåã€‚å¦‚æœæ‚¨çš„æ‰€æœ‰èŠ‚ç‚¹éƒ½æœ‰ç›¸åŒçš„ä¸»æœºåï¼Œè¯·ä½¿ç”¨--with-node-idé€‰é¡¹ä¸ºæ¯ä¸ªèŠ‚ç‚¹æ·»åŠ ä¸€ä¸ªéšæœºåç¼€ï¼Œæˆ–è€…ä¸ºæ‚¨æ·»åŠ åˆ°é›†ç¾¤çš„æ¯ä¸ªèŠ‚ç‚¹è®¾è®¡ä¸€ä¸ªç‹¬ç‰¹çš„åç§°ï¼Œç”¨--node-nameæˆ–$K3S_NODE_NAMEä¼ é€’ã€‚<br> å»ºè®®åœ¨ä¸€å¼€å§‹è®¾ç½®å¥½æ‰€æœ‰èŠ‚ç‚¹çš„hostname,å¦‚<code>hostnamectl set-hostname master-node1</code></p><h3 id="_2-æ“ä½œç³»ç»Ÿ" tabindex="-1"><a class="header-anchor" href="#_2-æ“ä½œç³»ç»Ÿ"><span>2. æ“ä½œç³»ç»Ÿ</span></a></h3><p>K3s æœ‰æœ›åœ¨å¤§å¤šæ•°ç°ä»£ Linux ç³»ç»Ÿä¸Šè¿è¡Œã€‚</p><p>æœ‰äº›æ“ä½œç³»ç»Ÿæœ‰ç‰¹å®šè¦æ±‚ï¼š</p><ul><li>å¦‚æœæ‚¨ä½¿ç”¨çš„æ˜¯Raspbian Busterï¼Œè¯·æŒ‰ç…§<a href="https://docs.rancher.cn/docs/k3s/advanced/_index/#%E5%9C%A8-raspbian-buster-%E4%B8%8A%E5%90%AF%E7%94%A8%E6%97%A7%E7%89%88%E7%9A%84-iptables" target="_blank" rel="noopener noreferrer">è¿™äº›æ­¥éª¤<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>åˆ‡æ¢åˆ°ä¼ ç»Ÿçš„ iptablesã€‚</li><li>å¦‚æœæ‚¨ä½¿ç”¨çš„æ˜¯Alpine Linuxï¼Œè¯·æŒ‰ç…§<a href="https://docs.rancher.cn/docs/k3s/advanced/_index#alpine-linux-%E5%AE%89%E8%A3%85%E7%9A%84%E9%A2%9D%E5%A4%96%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C" target="_blank" rel="noopener noreferrer">è¿™äº›æ­¥éª¤<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>è¿›è¡Œé¢å¤–è®¾ç½®ã€‚</li><li>å¦‚æœæ‚¨ä½¿ç”¨çš„æ˜¯Red Hat/CentOSï¼Œè¯·æŒ‰ç…§<a href="https://docs.rancher.cn/docs/k3s/advanced/_index#Red-Hat-%E5%92%8C-CentOS-%E7%9A%84%E9%A2%9D%E5%A4%96%E5%87%86%E5%A4%87" target="_blank" rel="noopener noreferrer">è¿™äº›æ­¥éª¤<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>è¿›è¡Œé¢å¤–è®¾ç½®ã€‚</li></ul><h3 id="_3-cpu-å†…å­˜å’Œç£ç›˜" tabindex="-1"><a class="header-anchor" href="#_3-cpu-å†…å­˜å’Œç£ç›˜"><span>3. CPU,å†…å­˜å’Œç£ç›˜</span></a></h3><p>æœ€ä½è¦æ±‚<code>1c1g</code>çš„cpuå’Œå†…å­˜<br> ç£ç›˜çš„æ€§èƒ½å†³å®šäº†<code>k3s</code>çš„æ€§èƒ½,å»ºè®®ä½¿ç”¨ssd</p><h3 id="_4-ç½‘ç»œ" tabindex="-1"><a class="header-anchor" href="#_4-ç½‘ç»œ"><span>4. ç½‘ç»œ</span></a></h3><p>K3s server éœ€è¦ 6443 ç«¯å£æ‰èƒ½è¢«æ‰€æœ‰èŠ‚ç‚¹è®¿é—®ã€‚</p><p>å½“ä½¿ç”¨ Flannel VXLAN æ—¶ï¼ŒèŠ‚ç‚¹éœ€è¦èƒ½å¤Ÿé€šè¿‡ UDP ç«¯å£ 8472 è®¿é—®å…¶ä»–èŠ‚ç‚¹ã€‚èŠ‚ç‚¹ä¸åº”è¯¥åœ¨å…¶ä»–ç«¯å£ä¸Šç›‘å¬ã€‚K3s ä½¿ç”¨åå‘éš§é“ï¼Œè¿™æ ·èŠ‚ç‚¹ä¸æœåŠ¡å™¨å»ºç«‹å‡ºç«™è¿æ¥ï¼Œæ‰€æœ‰çš„ kubelet æµé‡éƒ½é€šè¿‡è¯¥éš§é“è¿è¡Œã€‚ç„¶è€Œï¼Œå¦‚æœä½ ä¸ä½¿ç”¨ Flannel å¹¶æä¾›è‡ªå·±çš„è‡ªå®šä¹‰ CNIï¼Œé‚£ä¹ˆ K3s å°±ä¸éœ€è¦ 8472 ç«¯å£ã€‚</p><p>å¦‚æœè¦ä½¿ç”¨metrics serverï¼Œåˆ™éœ€è¦åœ¨æ¯ä¸ªèŠ‚ç‚¹ä¸Šæ‰“å¼€ç«¯å£ 10250 ç«¯å£ã€‚</p><p>å¦‚æœè®¡åˆ’ä½¿ç”¨åµŒå…¥å¼ etcd å®ç°é«˜å¯ç”¨æ€§ï¼Œåˆ™ server èŠ‚ç‚¹å¿…é¡»åœ¨ç«¯å£ 2379 å’Œ 2380 ä¸Šå¯ä»¥ç›¸äº’è®¿é—®ã€‚</p><div class="custom-container tip"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="9"></circle><path d="M12 8h.01"></path><path d="M11 12h1v4h1"></path></g></svg><p class="custom-container-title">TIP</p><p>èŠ‚ç‚¹ä¸Šçš„ VXLAN ç«¯å£ä¸åº”å…¬å¼€æš´éœ²ï¼Œå› ä¸ºå®ƒå…¬å¼€äº†é›†ç¾¤ç½‘ç»œï¼Œä»»ä½•äººéƒ½å¯ä»¥è®¿é—®å®ƒã€‚åº”åœ¨ç¦æ­¢è®¿é—®ç«¯å£ 8472 çš„é˜²ç«å¢™/å®‰å…¨ç»„åé¢è¿è¡ŒèŠ‚ç‚¹ã€‚</p></div><div class="custom-container warning"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="9"></circle><path d="M12 8v4"></path><path d="M12 16h.01"></path></g></svg><p class="custom-container-title">WARNING</p><p>Flannel ä¾é  Bridge CNI plugin æ¥åˆ›å»ºä¸€ä¸ªå¯ä»¥äº¤æ¢æµé‡çš„ L2 ç½‘ç»œã€‚å…·æœ‰ NET_RAW åŠŸèƒ½çš„ Rogue pod å¯ä»¥æ»¥ç”¨è¯¥ L2 ç½‘ç»œæ¥å‘åŠ¨æ”»å‡»ï¼Œå¦‚ ARP æ¬ºéª—ã€‚å› æ­¤ï¼Œæ­£å¦‚ kubernetes æ–‡æ¡£ä¸­è®°è½½çš„é‚£æ ·ï¼Œè¯·è®¾ç½®ä¸€ä¸ªå—é™é…ç½®æ–‡ä»¶ï¼Œåœ¨ä¸å¯ä¿¡ä»»çš„ pod ä¸Šç¦ç”¨ NET_RAWã€‚</p></div><table><thead><tr><th style="text-align:center;">åè®®</th><th style="text-align:center;">ç«¯å£</th><th style="text-align:center;">æº</th><th style="text-align:center;">æè¿°</th></tr></thead><tbody><tr><td style="text-align:center;">TCP</td><td style="text-align:center;">6443</td><td style="text-align:center;">K3s agent èŠ‚ç‚¹</td><td style="text-align:center;">Kubernetes API Server</td></tr><tr><td style="text-align:center;">UDP</td><td style="text-align:center;">8472</td><td style="text-align:center;">K3s server å’Œ agent èŠ‚ç‚¹</td><td style="text-align:center;">ä»…å¯¹ Flannel VXLAN éœ€è¦</td></tr><tr><td style="text-align:center;">TCP</td><td style="text-align:center;">10250</td><td style="text-align:center;">K3s server å’Œ agent èŠ‚ç‚¹</td><td style="text-align:center;">Kubelet metrics</td></tr><tr><td style="text-align:center;">TCP</td><td style="text-align:center;">2379-2380</td><td style="text-align:center;">K3s server èŠ‚ç‚¹</td><td style="text-align:center;">åªæœ‰åµŒå…¥å¼ etcd é«˜å¯ç”¨æ‰éœ€è¦</td></tr></tbody></table><p>é€šå¸¸æƒ…å†µä¸‹ï¼Œæ‰€æœ‰å‡ºç«™æµé‡éƒ½æ˜¯å…è®¸çš„ã€‚</p><h2 id="äºŒã€å¿«é€Ÿå®‰è£…" tabindex="-1"><a class="header-anchor" href="#äºŒã€å¿«é€Ÿå®‰è£…"><span>äºŒã€å¿«é€Ÿå®‰è£…</span></a></h2><ol><li>server å›½å†…å®‰è£…<br><code>curl -sfL http://rancher-mirror.cnrancher.com/k3s/k3s-install.sh | INSTALL_K3S_MIRROR=cn sh -</code></li><li>server å›½å¤–å®‰è£…<br><code>curl -sfL https://get.k3s.io | sh -</code></li><li>worker å›½å†…å®‰è£…<br><code>curl -sfL http://rancher-mirror.cnrancher.com/k3s/k3s-install.sh | INSTALL_K3S_MIRROR=cn K3S_URL=${K3S_URL} K3S_TOKEN=${K3S_TOKEN} sh -</code></li><li>worker å›½å¤–å®‰è£…<br><code>curl -sfL https://get.k3s.io | K3S_URL=${K3S_URL} K3S_TOKEN=${K3S_TOKEN} sh -</code></li></ol><p><strong>notice</strong>:</p><ul><li><p>worker å®‰è£…å‰å…ˆexportä¸€ä¸‹ç¯å¢ƒå˜é‡<br><code>export K3S_URL=https://{ip or domain}:6443</code><br> ps: æ­¤å¤„è‹¥æƒ³è¦api serveré«˜å¯ç”¨ï¼Œå¯æœ‰ä¸‰ç§æ–¹å¼</p><ol><li>è´­ä¹°å†…ç½‘è´Ÿè½½å‡è¡¡è§£æåˆ°ç›¸å…³serverèŠ‚ç‚¹ç«¯å£</li><li>DNSè´Ÿè½½å‡è¡¡è§£æ</li><li>VIPæˆ–è€…å¼¹æ€§ip <code>export K3S_TOKEN=xxxxx::server:xxxxx</code></li></ol></li><li><p><code>K3S_TOKEN</code> åœ¨serverç¯å¢ƒçš„<code>/var/lib/rancher/k3s/server/node-token</code>è·¯å¾„</p></li><li><p>æ¯å°è®¡ç®—æœºå¿…é¡»å…·æœ‰å”¯ä¸€çš„ä¸»æœºåã€‚å¦‚æœæ‚¨çš„è®¡ç®—æœºæ²¡æœ‰å”¯ä¸€çš„ä¸»æœºåï¼Œè¯·ä¼ é€’<code>K3S_NODE_NAME</code>ç¯å¢ƒå˜é‡ï¼Œå¹¶ä¸ºæ¯ä¸ªèŠ‚ç‚¹æä¾›ä¸€ä¸ªæœ‰æ•ˆä¸”å”¯ä¸€çš„ä¸»æœºåã€‚</p></li><li><p><a href="https://docs.rancher.cn/docs/k3s/installation/ha/_index" target="_blank" rel="noopener noreferrer">é«˜å¯ç”¨å®‰è£…<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>æ—¶å¯ä½¿ç”¨å¤–éƒ¨æ•°æ®åº“ <code>--datastore-endpoint=&#39;mysql://user:pass@tcp(url:port)/database&#39;</code></p></li><li><p>ç”±äºk3sv2ä¹‹åå¼ºåˆ¶å®‰è£…çš„traefikä¹Ÿå‡çº§åˆ°v2ç‰ˆæœ¬ï¼Œä¸å½“å‰nginx ingressé…ç½®å®Œå…¨ä¸å…¼å®¹ï¼Œæœ¬æ¬¡é€‰ç”¨æŒ‡å®šç‰ˆæœ¬, å®‰è£…å‰exportä¸€ä¸‹ç¯å¢ƒå˜é‡<code>INSTALL_K3S_VERSION=v1.19.16+k3s1</code></p></li></ul><p>è‡³æ­¤å°±å®Œæˆäº†ğŸ‰</p></div></div><footer class="page-meta"><div class="meta-item edit-link"><span class="xicon-container left meta-item-label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" class="xicon-icon" style="width:20px;height:20px;font-size:20px;color:;"><path d="M2 26h28v2H2z" fill="currentColor"></path><path d="M25.4 9c.8-.8.8-2 0-2.8l-3.6-3.6c-.8-.8-2-.8-2.8 0l-15 15V24h6.4l15-15zm-5-5L24 7.6l-3 3L17.4 7l3-3zM6 22v-3.6l10-10l3.6 3.6l-10 10H6z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->Edit this page<!--]--></span></span></div><div class="meta-item last-updated"><span class="xicon-container left meta-item-label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" class="xicon-icon" style="width:20px;height:20px;font-size:20px;color:;"><path d="M26 4h-4V2h-2v2h-8V2h-2v2H6c-1.1 0-2 .9-2 2v20c0 1.1.9 2 2 2h20c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 22H6V12h20v14zm0-16H6V6h4v2h2V6h8v2h2V6h4v4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->æ›´æ–°äº 7/10/2025, 4:36:00 PM<!--]--></span></span></div></footer><!----><div class="reco-valine-wrapper"><div id="valine"></div></div></div><div class="page-catalog-container"><h5 class="tip">ç›®å½•</h5><ul><!--[--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blog/blogs/cloud-base/k3s.html#ä¸€ã€å‡†å¤‡å·¥ä½œ" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="ä¸€ã€å‡†å¤‡å·¥ä½œ"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->ä¸€ã€å‡†å¤‡å·¥ä½œ<!--]--></span></span><!--[--><!--]--></a></li><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blog/blogs/cloud-base/k3s.html#_1-å…ˆå†³æ¡ä»¶" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="1. å…ˆå†³æ¡ä»¶"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->1. å…ˆå†³æ¡ä»¶<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blog/blogs/cloud-base/k3s.html#_2-æ“ä½œç³»ç»Ÿ" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="2. æ“ä½œç³»ç»Ÿ"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->2. æ“ä½œç³»ç»Ÿ<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blog/blogs/cloud-base/k3s.html#_3-cpu-å†…å­˜å’Œç£ç›˜" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="3. CPU,å†…å­˜å’Œç£ç›˜"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->3. CPU,å†…å­˜å’Œç£ç›˜<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blog/blogs/cloud-base/k3s.html#_4-ç½‘ç»œ" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="4. ç½‘ç»œ"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->4. ç½‘ç»œ<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blog/blogs/cloud-base/k3s.html#äºŒã€å¿«é€Ÿå®‰è£…" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="äºŒã€å¿«é€Ÿå®‰è£…"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->äºŒã€å¿«é€Ÿå®‰è£…<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--]--></ul></div></main><!--]--></div></div><!--[--><!----><!----><!--]--><!--]--></div>
    <script type="module" src="/blog/assets/app-Cb7V6dmb.js" defer></script>
  </body>
</html>
